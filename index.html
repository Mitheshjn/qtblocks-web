<!DOCTYPE HTML>
<html lang="en">

<head>
	<link rel="icon" type="image/png" href="media/favicon-qtpi.png" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title> QtPi Low Code Platform</title>
	<!-- JavaScript -->
	<script type="text/javascript" src="js/skulpt/skulpt.min.js"></script>
	<script type="text/javascript" src="js/skulpt/skulpt-stdlib.js"></script>
	<script type="text/javascript" src="js/blockly/blockly_compressed.js"></script>
	<script type="text/javascript" src="js/blockly/blocks_compressed.js"></script>
	<script type="text/javascript" src="js/blockly/python_compressed.js"></script>
	<script type="text/javascript" src="js/blockly/javascript_compressed.js"></script>
	<script type="text/javascript" src="js/qtblockpy.js"></script>
	<script type="text/javascript" src="js/boards.js"></script>
	<script type="text/javascript" src="js/code.js"></script>

	<script type="text/javascript" src="js/jquery-2.2.4.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.toggle.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.3.3.6.js"></script>
	<script type="text/javascript" src="js/prettify.min.js"></script>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script>

	<script type="text/javascript" src="js/hexlify.js"></script>
	<script type="text/javascript" src="js/intel-hex.browser.js"></script>

	<script type="text/javascript" src="js/ace/src-min-noconflict/ace.js"></script>
	<script type="text/javascript" src="js/ace/src-min-noconflict/ext-language_tools.js"></script>

	<script src="js/acorn_interpreter.js"></script>
	<script src="js/term.js"></script>
	<script src="js/FileSaver.js"></script>

	<script src="js/microbit/lzma-d.min.js"></script>
	<script src="js/microbit/base64.js"></script>
	
	<script src="js/p5.js/p5.min.js"></script>
	<script src="js/prism/prism.js"></script>

	<script src="js/microbit/microbit-fs.umd.min.js"></script>
	<script src="lang/en.js" id="lang"></script>
	<script src="js/microbit/micropythonapi.js"></script>
	<script src="js/microbit/FileSaver.min.js" type="application/javascript"></script>
	<script src="js/microbit/vex.combined.min.js" type="application/javascript"></script>
	<script>vex.defaultOptions.className = 'vex-theme-wireframe';</script>
	<script type="application/javascript">
		if (navigator.appVersion.indexOf("MSIE 9") !== -1 || navigator.appVersion.indexOf("MSIE 8") !== -1 || navigator.appVersion.indexOf("MSIE 7") !== -1) {
			document.write('<a href="https://www.microsoft.com/en-gb/download/internet-explorer.aspx">Please upgrade to IE 10 or greater.</a>');
			document.execCommand('Stop');
		}
	</script>
	<script type="application/javascript">
		// VERSION INFORMATION
		EDITOR_VERSION = "2.0.0";
		UPY_VERSION = "1.0.1";
	</script>
	<!-- CSS -->

	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.3.3.6.css" />
	<link rel="stylesheet" type="text/css" href="css/bootstrap.toggle.min.css" />
	<link rel="stylesheet" type="text/css" href="css/qtblockpy.css" />
	<link rel="stylesheet" type="text/css" href="css/prettify.min.css" />
	<link rel="stylesheet" type="text/css" href="css/vex.css" />
	<link rel="stylesheet" type="text/css" href="css/vex-theme-wireframe.css" />

</head>

<body onload="QtBlockPy.init()">
	<div class="loading"></div>
	<div id="header">
		<div id="title">
			<span><img src="img/logo.png" style="width:120px; height:40px;" />

			</span>
		</div>
		<div id="btn_all">
			<ul class="nav nav-tabs" role="tablist" style="display: none;">
				<li role="presentation" class="active"><a href="#content_blocks" aria-controls="content_blocks"
						role="tab" data-toggle="tab"></a></li>
				<li role="presentation"><a href="#content_code" aria-controls="content_code" role="tab"
						data-toggle="tab"></a></li>
			</ul>
			<span style="color:white;font-size:50"> || </span>
			<input id="codeORblock" checked data-size="small" data-toggle="toggle"
				data-on="<span class='fa fa-puzzle fa-2x' style='color:#727272'></span>"
				data-off="<span class='fa fa-code fa-2x'></span>" data-style="ios" data-onstyle="default"
				data-offstyle="default" type="checkbox">

			<button id="btn_config" class="btn btn-arduino" data-toggle="modal" data-target="#configModal">
				<span class="fa fa-cog fa-lg"></span>
			</button>
			<button id="btn_new" class="btn btn-arduino-rect">
				<span class="material-icons">create</span>
			</button>

			<button id="btn_fakeload" class="btn btn-arduino-rect">
				<!--<span class="fa fa-folder-open fa-lg fa-fw"></span>-->
				<span class="material-icons">cloud_upload</span>
			</button>
			<button id="btn_example" class="btn btn-arduino-rect" data-toggle="modal" data-target="#exampleModal">
				<span class="material-icons">
					book
				</span>
			</button>
			<input type="file" id="load" accept=".xml,.py" style="display: none;" />
			<button id="btn_saveXML" class="btn btn-arduino-rect">
				<span class="material-icons">cloud_download</span>
			</button>
			<button id="btn_print" class="btn btn-arduino-rect">
				<span class="fa fa-camera fa-1_5x"> </span>
			</button>
			</button>
			<button id="btn_undo" class="btn btn-arduino">
				<span class="fa fa-undo fa-1_25x"> </span>
			</button>
			<button id="btn_redo" class="btn btn-arduino">
				<span class="fa fa-repeat fa-1_25x"> </span>
			</button>
			<button id="btn_card" class="btn btn-arduino-rect" data-toggle="modal" data-target="#card"
				style="margin-top: -2px; border-top-right-radius: 0px; border-bottom-right-radius: 0px;">
				<span class="fa fa-microchip fa-fw"> </span>
			</button>
			<select
				style="margin-left: -5px; height: 30px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-left-width: 0px;"
				id="boards" onchange="QtBlockPy.change_card();">
				<optgroup label="Python">
					<option value="python">Python</option>
				</optgroup>
				<optgroup label="Boards">
					<option value="qtneo" selected="selected">QtPi Neo</option>
					<option value="microbit">Microbit</option>
				</optgroup>
				<optgroup label="Library">
					<option value="streamlit">Streamlit</option>
					<option value="qtpy">QtPy</option>
				</optgroup>
				<optgroup label="Javascript">
					<option value="javascript">JavaScript</option>
				</optgroup>
			</select>
			<button id="btn_usb" class="btn btn-arduino-rect" data-toggle="modal" data-target="#usb"
				style="margin-top: -2px; border-top-right-radius: 0px; border-bottom-right-radius: 0px;">
				<span class="fa fa-usb fa-fw"></span>
			</button>
			<select
				style="margin-left: -5px; height: 30px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-left-width: 0px;"
				id="portseries" onchange="QtBlockPy.save_com();">
				<option value="none">None</option>
			</select>
			<button id="btn_flash" class='btn btn-arduino'>
				<span class="fa fa-arrow-right fa-1_5x fa-fw"> </span>
			</button>
			<span id="survol" style="color:#fff"></span>
		</div>
		<div id="btn_group" class="btn-group" role="group">
			<button id="btn_search" class='btn btn-default'>
				<span class="material-icons" style="font-size:19px;">search</span>
			</button>
			<button id="btn_run_custom" class="btn btn-default">
				<span class="material-icons" style="font-size:19px;">play_arrow</span>
			</button>
			<button id="btn_stop_custom" class="btn btn-default">
				<span class="material-icons" style="font-size:19px;">stop</span>
			</button>
			<button id="btn_save_custom_py" class="btn btn-default">
				<span class="material-icons" style="font-size:19px;">save_alt</span>
			</button>
			<button id="btn_api_mp" class="btn btn-default"
				onclick="window.open('https://qtlearncodelab.github.io/qtpi-shared/docs/uqtpy/html/autoapi/index.html')">
				<span class="material-icons" style="font-size:19px;">api</span>
			</button>
			<button id="btn_about" class="btn btn-default" data-toggle="modal" data-target="#aboutModal">
				<span class="material-icons" style="font-size:19px;">school</span>
			</button>
			
			<button id="btn_preview" class="btn btn-default" data-toggle="modal">
				<span class="material-icons" style="font-size:19px;">preview</span>
			</button>
		</div>
	</div>
	<div id="divBody" class="tab-content">
		<div role="tabpanel" id="content_blocks" class="tab-pane fade in active" style="position: relative;">
			<div id="toggle" class="modal-content" style="display: none;">
				<button id="btn_run" class="btn btn-default">
					<span class="material-icons">play_arrow</span>
				</button>
				<button id="btn_stop" class="btn btn-default">
					<span class="material-icons">stop</span>
				</button>
				<button id="btn_saveino" class="btn btn-default">
					<span class="material-icons">save_alt</span>
				</button>
				<button id="btn_copy" class="btn btn-default">
					<span class="material-icons">content_copy</span>
				</button>
				<pre id="pre_preview"></pre>
				
				
			</div>
			<div id="toggle" class="modal-content" style="display: none;">
				<div id="myContainer"></div>
			</div>

			<div id="toggle_flash" class="modal-content" style="display: none;">
				<div style="display:inline-block; vertical-align:top;">
					<form>
						<input type="text" name="webrepl_url" id="webrepl_url" value="ws://192.168.43.208:8266/" />
						<input type="submit" id="button" value="Connect"
							onclick="QtBlockPy.webrepl_button_clicked(); return false;" />
						<input type="button" value="run" onclick="QtBlockPy.webrepl_run(); return false;" />
						<input type="file" id="put-file-select" />
						<div id="put-file-list"></div>
						<input type="button" value="Send to device" id="put-file-button"
							onclick="put_file(); return false;" />
					</form>
					<div class="file-box" id="file-status"><span style="color:#707070">(status)</span></div>
					<div id="term">
					</div>
				</div>
				
			</div>
			<div id="toggle_microbit" class="modal-content" style="display: none;">
				<div style="display: inline-block; vertical-align: top;">
					<div id="btn_group_microbit" class="btn-group" role="group">
						<button id="command-connecting" class="btn btn-default" style="display: none;">
							<span class="material-icons">contactless</span>
							<div class="roundlabel">Connecting</div>
						</button>
						<button id="command-connect" class="btn btn-default">
							<span class="material-icons">link</span>
							<div class="roundlabel">connect</div>
						</button>
						<button id="command-disconnect" class="btn btn-default" style="display: none;">
							<span class="material-icons">link_off</span>
							<div class="roundlabel">Disconnect</div>
						</button>
						<button id="command-flash" class="btn btn-default" style="display: none;">
							<span class="material-icons">login</span>
							<div class="roundlabel">Flash</div>
						</button>
						<button id="command-serial" class="btn btn-default">
							<span class="material-icons">airplay</span>
							<div class="roundlabel">Open Serial</div>
						</button>
						<div class="vbox action" id="script-box">
							<label id="script-name-label" for="script-name">Script Name</label>
							<input id="script-name" class="flex1">
						</div>
						<div id="serial-buttons" style="display: none;">
							<div id="request-repl">Send CTRL-C for REPL</div>
							<div id="request-serial">Send CTRL-D to reset</div>
						</div>

					</div>
				</div>
				<div id="repl" style="display: none;">
				</div>
				<div id="editor-container" class="hbox flex1">
					<div id="blockly"></div>
					<div id="editor_microbit" class="flex3"></div>
				</div>
				<div id="flashing-overlay-container" class="modal-overlay-container">
					<div id="flashing-overlay" class="modal-overlay modal-div" tabindex="-1" role="dialog"
						aria-labelledby="flashing-overlay" aria-modal="true">
						<div id="flashing-info">
							<h2 id="flashing-text">Flashing micro:bit</h2>
							<div id="webusb-flashing-loader"></div>
							<progress id="webusb-flashing-progress" max="1">
							</progress>
							<i id="webusb-flashing-complete" class="fa fa-check"></i>
						</div>
						<div id="flashing-overlay-error"></div>
					</div>
				</div>
			</div>
		</div>
		<div role="tabpanel" id="content_code" class="tab-pane fade"></div>

	</div>
	<div id="toggle_terminal" class="modal-content" style="display: none;">
		<pre id="console"></pre>
	</div>

	<!-- message modal -->
	<div class="modal fade" id="message" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false"
		data-backdrop="static">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<div class="modal-body">
					<div id="messageDIV"></div>
				</div>
			</div>
		</div>
	</div>
	<!-- about modal -->
	<div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="aboutModalLabel"
		aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
							aria-hidden="true">&#215;</span></button>
					<span class="fa fa-2x" class="modal-title" id="aboutModalLabel"></span>
				</div>
				<div class="modal-body">
					<div class="container-fluid">
						<div class="row">
							<div class="col-md-4"><img src="img/logo.png" /></div>
							<div class="col-md-8">
								<span class="fa fa-lg" id="versionapp"></span>
								<span id="aboutBody"></span><br /><br />
								<button id="btn_site" class="btn btn-default" onclick="window.open('https://qtpi.in/')">
									<span class="fa fa-search" id="span_site"></span>
								</button>
								<button id="btn_contact" class="btn btn-default"
									onclick="window.open('https://qtpi.in/#contact')">
									<span class='fa fa-envelope' id="span_contact"></span>
								</button>
								<button id="btn_api_mp" class="btn btn-default"
									onclick="window.open('https://qtlearncodelab.github.io/qtpi-shared/docs/uqtpy/html/autoapi/index.html')">
									<span class='fa fa-hand-o-right'>API Doc</span>
								</button>
							</div>
						</div>
					</div>
				</div>
			
			</div>
		</div>
	</div>
	<!-- toolbox config modal -->
	<div class="modal fade" id="configModal" tabindex="-1" role="dialog" aria-labelledby="configModalLabel"
		aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
							aria-hidden="true">&#215;</span></button>
					<span class="fa fa-cog fa-2x" class="modal-title" id="configModalLabel"></span>
				</div>
				<div class="modal-body">
					<label id="span_languageMenu"></label>
					<select id="languageMenu"></select><br><br>
					<div id="divToolbox">
						<label id="labelToolboxDefinition"></label>
						<select id="toolboxes">
							<option value="toolbox_basic">Beginner </option>
							<option value="toolbox_python" >Intermediate </option>
							<option value="toolbox_qt_neo" selected="selected">Advanced </option>
						</select>
					</div>
				</div>
				<input type="checkbox" name="select_all" id="select_all" /> <span id="span_select_all"> </span>
				<div class="modal-body" id="modal-body-config"></div>
				<div class="modal-footer">
					<button id="btn_valid_config" type="button" class="btn btn-primary"></button>
				</div>
			</div>
		</div>
	</div>
	<!-- example modal -->
	<div class="modal fade" id="exampleModal">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span
							aria-hidden="true">&#215;</span></button>
					<span class="fa fa-file-text fa-2x" class="modal-title" id="exampleModalLabel"></span>
				</div>
				<div class="modal-body">
					<div class="table-responsive">
						<table class="table table-hover">
							<tbody id="includedContent"></tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- USB modal -->
	<div class="modal fade" id="usb">
		<div class="modal-dialog modal-sm">
			<div class="modal-content">
				<div class="modal-body">
					<span id="aboutusbLabel"></span>
				</div>
			</div>
		</div>
	</div>
<div id="firmware" style="display: none;">:020000040000FA

</div>
</body>

<script type="text/javascript">
	var config = {
		microPythonApi: microPythonApi,
		translate: language,
		flags: {
			blocks: false,
			snippets: true,
			share: false,
			experimental: false,
		},
  	};
	web_editor(config);
	$(window).load(function () { $(".loading").fadeOut("slow") });
	ace.require("ace/ext/language_tools");
	var editor = ace.edit("content_code");
	editor.setTheme("ace/theme/chrome");
	editor.session.setTabSize(2);
	editor.setShowPrintMargin(false);

</script>

</html>
